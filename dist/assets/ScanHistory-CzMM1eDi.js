import{_ as k,c as a,e as s,w as g,v as h,F as d,f as u,d as v,o as l,n as p,t as o}from"./index-CRX5wCFU.js";const m={data(){return{searchQuery:"",activeFilter:"Tous",filters:["Tous","Validés","Invalides","Aujourd'hui","Cette semaine"],loading:!0,scanItems:[{id:12345,name:"John Doe",passType:"Pass VIP",status:"status-success",statusText:"Validé",details:[{label:"Date de scan",value:"15 Déc, 19:45"},{label:"Scanné par",value:"Agent 1"},{label:"Porte",value:"Entrée principale"},{label:"Type de scan",value:"QR Code"}]},{id:12346,name:"Marie K.",passType:"Pass Standard",status:"status-error",statusText:"Invalide",details:[{label:"Date de scan",value:"15 Déc, 19:30"},{label:"Scanné par",value:"Agent 2"},{label:"Raison",value:"Ticket déjà utilisé"}]}]}},computed:{filteredScanItems(){let i=this.scanItems;return this.searchQuery&&(i=i.filter(e=>e.name.toLowerCase().includes(this.searchQuery.toLowerCase()))),this.activeFilter!=="Tous"&&(i=i.filter(e=>e.statusText===this.activeFilter)),i}},methods:{setActiveFilter(i){this.activeFilter=i},goBack(){this.$router.go(-1)},scanAgain(i){console.log(`Scanning ticket #${i} again.`)},toggleFilters(){console.log("Filters clicked")},openQRCodeScanner(){console.log("Opening QR Code scanner")}},mounted(){setTimeout(()=>{this.loading=!1},2e3)}},b={class:"header"},y={class:"header-top"},_={class:"search-bar"},C={class:"filter-row"},T=["onClick"],F={class:"scan-list"},S={key:0,class:"loading-indicator"},x={key:1},Q={key:0,class:"no-results"},I={class:"scan-header"},A={class:"ticket-info"},R={class:"ticket-details"},D={class:"scan-body"},w={class:"scan-details"},B={class:"detail-label"},V={class:"detail-value"},P={class:"scan-actions"},L={key:0,class:"action-btn secondary-btn"},j={key:1,class:"action-btn secondary-btn"},q=["onClick"];function E(i,e,H,M,r,n){return l(),a("div",null,[s("header",b,[s("div",y,[s("button",{class:"back-btn",onClick:e[0]||(e[0]=(...t)=>n.goBack&&n.goBack(...t))},e[4]||(e[4]=[s("i",{class:"fas fa-arrow-left"},null,-1)])),e[5]||(e[5]=s("h1",{class:"header-title"},"Historique",-1))]),s("div",_,[g(s("input",{type:"text",class:"search-input","onUpdate:modelValue":e[1]||(e[1]=t=>r.searchQuery=t),placeholder:"Rechercher un ticket..."},null,512),[[h,r.searchQuery]]),s("button",{class:"filter-btn",onClick:e[2]||(e[2]=(...t)=>n.toggleFilters&&n.toggleFilters(...t))},e[6]||(e[6]=[s("i",{class:"fas fa-sliders-h"},null,-1)]))])]),s("div",C,[(l(!0),a(d,null,u(r.filters,(t,c)=>(l(),a("div",{key:c,class:p(["filter-chip",{active:r.activeFilter===t}]),onClick:f=>n.setActiveFilter(t)},o(t),11,T))),128))]),s("div",F,[r.loading?(l(),a("div",S,"Chargement...")):(l(),a("div",x,[r.scanItems.length===0?(l(),a("div",Q,e[7]||(e[7]=[s("i",{class:"fas fa-search"},null,-1),s("p",null,"Aucun ticket trouvé",-1)]))):v("",!0),(l(!0),a(d,null,u(n.filteredScanItems,t=>(l(),a("div",{key:t.id,class:"scan-item"},[s("div",I,[s("div",A,[e[8]||(e[8]=s("div",{class:"ticket-type"},[s("i",{class:"fas fa-ticket-alt"})],-1)),s("div",R,[s("h3",null,o(t.name),1),s("p",null,"#"+o(t.id)+" • "+o(t.passType),1)])]),s("span",{class:p(["scan-status",t.status])},o(t.statusText),3)]),s("div",D,[s("div",w,[(l(!0),a(d,null,u(t.details,(c,f)=>(l(),a("div",{key:f,class:"detail-item"},[s("span",B,o(c.label),1),s("span",V,o(c.value),1)]))),128))]),s("div",P,[t.status==="status-success"?(l(),a("button",L,e[9]||(e[9]=[s("i",{class:"fas fa-print"},null,-1),s("span",null,"Reçu",-1)]))):v("",!0),t.status==="status-error"?(l(),a("button",j,e[10]||(e[10]=[s("i",{class:"fas fa-exclamation-circle"},null,-1),s("span",null,"Signaler un problème",-1)]))):v("",!0),s("button",{class:"action-btn primary-btn",onClick:c=>n.scanAgain(t.id)},e[11]||(e[11]=[s("i",{class:"fas fa-redo"},null,-1),s("span",null,"Scanner à nouveau",-1)]),8,q)])])]))),128))]))]),s("button",{class:"fab",onClick:e[3]||(e[3]=(...t)=>n.openQRCodeScanner&&n.openQRCodeScanner(...t))},e[12]||(e[12]=[s("i",{class:"fas fa-qrcode"},null,-1)]))])}const z=k(m,[["render",E],["__scopeId","data-v-4ff0aff0"]]);export{z as default};
