import{_ as p,c as l,e,h,g as b,F as u,f as m,t as n,o,n as y,d as f}from"./index-CRX5wCFU.js";const k={data(){return{tickets:[{name:"Pass VIP",description:"Accès premium + Cocktail",price:1e4,quantity:0},{name:"Pass Standard",description:"Accès général",price:5e3,quantity:1}],paymentMethods:[{name:"Mobile Money",description:"Celtiis Cash",icon:"fas fa-mobile-alt"}],selectedPaymentMethod:null,serviceFee:1500}},computed:{summary(){return[...this.tickets.filter(s=>s.quantity>0).map(s=>({label:`${s.quantity} × ${s.name}`,value:s.quantity*s.price})),{label:"Frais de service",value:this.serviceFee}]},totalPrice(){return this.summary.reduce((s,t)=>s+t.value,0)}},methods:{goBack(){history.back()},updateQuantity(s,t){const r=this.tickets[s];r.quantity+t>=0&&r.quantity+t<=4&&(r.quantity+=t)},selectPaymentMethod(s){this.selectedPaymentMethod=s},processPayment(){if(!this.selectedPaymentMethod){alert("Veuillez sélectionner un mode de paiement.");return}alert(`Paiement de ${this.totalPrice} FCFA via ${this.selectedPaymentMethod.name}`)}},methods:{async processPayment(){try{await this.fakePaymentAPI()?this.$router.push("/confirmation"):alert("Le paiement a échoué. Veuillez réessayer.")}catch(s){console.error("Erreur lors du paiement :",s),alert("Une erreur s'est produite. Veuillez réessayer.")}},fakePaymentAPI(){return new Promise(s=>{setTimeout(()=>s(!0),2e3)})}}},P={class:"header"},_={class:"ticket-section"},C={class:"ticket-header"},F={style:{"font-weight":"600"}},M={style:{color:"var(--gray)","font-size":"0.9rem"}},g={class:"ticket-price"},q={class:"quantity-control"},A=["onClick"],B=["onClick"],V={class:"payment-method"},z=["onClick"],S={class:"method-icon"},w={class:"method-info"},x={class:"method-name"},I={class:"method-description"},N={key:0,class:"fas fa-check",style:{color:"var(--primary)"}},E={class:"summary-section"},Q={class:"summary-row summary-total"},T={class:"checkout-button"};function D(s,t,r,L,c,i){return o(),l("div",null,[e("header",P,[e("button",{class:"back-btn",onClick:t[0]||(t[0]=(...a)=>i.goBack&&i.goBack(...a))},t[2]||(t[2]=[e("i",{class:"fas fa-arrow-left"},null,-1)])),t[3]||(t[3]=e("h1",{class:"page-title"},"Réservation",-1))]),t[9]||(t[9]=h('<div class="event-summary" data-v-9b0bde6d><div class="event-basic" data-v-9b0bde6d><img src="https://via.placeholder.com/300" alt="Event" class="event-image" data-v-9b0bde6d><div class="event-info" data-v-9b0bde6d><h3 data-v-9b0bde6d>Festival des Arts et de la Culture</h3><div class="event-details" data-v-9b0bde6d><div data-v-9b0bde6d><i class="far fa-calendar" data-v-9b0bde6d></i> Sam, 16 Déc • 19:00</div><div data-v-9b0bde6d><i class="fas fa-map-marker-alt" data-v-9b0bde6d></i> Cotonou, Bénin</div></div></div></div></div>',1)),e("div",_,[t[4]||(t[4]=e("h2",{class:"section-title"},[b(" Sélectionnez vos billets "),e("span",{style:{color:"var(--gray)","font-size":"0.9rem"}},"Max. 4 tickets")],-1)),(o(!0),l(u,null,m(c.tickets,(a,d)=>(o(),l("div",{class:"ticket-type",key:d},[e("div",C,[e("div",null,[e("div",F,n(a.name),1),e("div",M,n(a.description),1)]),e("div",g,n(a.price)+" FCFA",1)]),e("div",q,[e("button",{class:"quantity-btn",onClick:v=>i.updateQuantity(d,-1)}," - ",8,A),e("span",null,n(a.quantity),1),e("button",{class:"quantity-btn",onClick:v=>i.updateQuantity(d,1)}," + ",8,B)])]))),128))]),e("div",V,[t[5]||(t[5]=e("h2",{class:"section-title"},"Mode de paiement",-1)),(o(!0),l(u,null,m(c.paymentMethods,(a,d)=>(o(),l("div",{class:y(["method-option",{selected:c.selectedPaymentMethod===a}]),key:d,onClick:v=>i.selectPaymentMethod(a)},[e("div",S,[e("i",{class:y(a.icon)},null,2)]),e("div",w,[e("div",x,n(a.name),1),e("div",I,n(a.description),1)]),c.selectedPaymentMethod===a?(o(),l("i",N)):f("",!0)],10,z))),128))]),e("div",E,[t[7]||(t[7]=e("h2",{class:"section-title"},"Récapitulatif",-1)),(o(!0),l(u,null,m(i.summary,(a,d)=>(o(),l("div",{class:"summary-row",key:d},[e("span",null,n(a.label),1),e("span",null,n(a.value)+" FCFA",1)]))),128)),e("div",Q,[t[6]||(t[6]=e("span",null,"Total",-1)),e("span",null,n(i.totalPrice)+" FCFA",1)])]),t[10]||(t[10]=e("div",{style:{height:"100px"}},null,-1)),e("div",T,[e("button",{class:"pay-btn",onClick:t[1]||(t[1]=(...a)=>i.processPayment&&i.processPayment(...a))}," Payer "+n(i.totalPrice)+" FCFA ",1),t[8]||(t[8]=e("div",{class:"secure-info"},[e("i",{class:"fas fa-lock"}),e("span",null,"Paiement sécurisé")],-1))])])}const U=p(k,[["render",D],["__scopeId","data-v-9b0bde6d"]]);export{U as default};
